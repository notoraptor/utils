(boccosetEnv) [SLURM] boccoset@leto29:~$ sbatch --gres=gpu:titanxp --qos=high --mail-type=ALL --mail-user=stevenbocco@gmail.com run-valgrind.sh 
Submitted batch job 31530

Submitted batch job 31931

valgrind --leak-check=full --show-reachable=yes --error-limit=no --gen-suppressions=all --log-file=out.log python -c "import theano"


THEANO_FLAGS=mode=FAST_RUN,device=cuda,floatX=float32,allow_gc=1,gpuarray.preallocate=0.25 valgrind --undef-value-errors=no  --keep-stacktraces=alloc --leak-check=full --error-limit=no --gen-suppressions=all --suppressions=skip.supp  --log-file=val.log  python mnist.py

valgrind --undef-value-errors=no --keep-stacktraces=alloc --leak-check=full --error-limit=no --suppressions=skip.supp --log-file=small.log  python smalltest.py

THEANO_FLAGS=mode=FAST_RUN,device=cuda,floatX=float32,allow_gc=1,gpuarray.preallocate=0.25 python mnist.py


sed 's/0000\:09\:00\.0/0000:06:00.0/g'

ERROR: theano.gpuarray.tests.check_dnn_conv.TestDnnConv2D.test_fwd
ERROR: theano.gpuarray.tests.check_dnn_conv.TestDnnConv2D.test_gradweight
ERROR: theano.gpuarray.tests.check_dnn_conv.TestDnnConv2D.test_gradinput

ERROR: theano.gpuarray.tests.check_dnn_conv.TestDnnConv2D.test_gradinput('guess_once', 
ERROR: theano.gpuarray.tests.check_dnn_conv.TestDnnConv2D.test_gradinput('RUNTIME_ALGORITHM', 

Max Abs Diff:  



out = alpha * comp + beta * prev
ref = alpha * cpuc + beta * prev

out - ref = alpha * comp - alpha * cpuc

out - ref = alpha ( comp - cpuc )


[(out - ref) / alpha] = comp - cpuc

(out/alpha) - (ref/alpha) = comp - cpuc

==========
Submitted batch job 32753

Submitted batch job 32770
Submitted batch job 32779

526 WrongValue errors

# No more errors (-2) related to sequential runtime tests

# 10 less errors (-10) related to test_gradweight
29 test_gradweight winograd_non_fused FLOAT_CONFIG

# total - 12

########################################################################

502 WrongValue errors

# 3 less errors (-3) related to test_fwd
35 test_fwd winograd_non_fused FLOAT_CONFIG

# 13 less errors (-13) related to test_gradweight
16 test_gradweight winograd_non_fused FLOAT_CONFIG

# 8 less errors (-8) related to test_gradinput winograd_non_fused
31 test_gradinput winograd_non_fused FLOAT_CONFIG

# total -24

export PYTHONPATH=/u/boccoset/.local/lib/python2.7/site-packages:$PYTHONPATH

########################################################################

Now 418 WrongValue errors, only in test_gradinput, with TRUE_HALF_CONFIG
still 84 with deterministic
still 84 for time_once
still 84 for time_on_shape_change
Nowd 83 for guess_once
Nowd 83 for guess_on_shape_change